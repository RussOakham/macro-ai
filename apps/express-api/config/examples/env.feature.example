# Feature Environment Variables (Manual)
# This file contains feature environment variables for manual feature branch deployments
# These are used for feature branches created manually (not via GitHub Actions)
# The NEON_BRANCH_NAME should be set to 'auto-branch-from-staging' for consistency

# Feature Environment Configuration
NODE_ENV=production
APP_ENV=feature
SERVER_PORT=3040

# Deployment Information
BRANCH_NAME=${FEATURE_BRANCH_NAME}
PR_NUMBER=
GITHUB_ACTIONS=false

# Database Configuration (Manual Feature Branch)
# For manual feature branches, use the standard feature branch
RELATIONAL_DATABASE_URL=postgresql://users_owner:npg_yTk1BcCU7NeR@ep-calm-bonus-a4pext89-pooler.us-east-1.aws.neon.tech/users?channel_binding=require&sslmode=require&branch=auto-branch-from-staging

# Redis Configuration (Shared Feature Redis)
REDIS_URL=redis://default:***@global-macro-ai-feature-redis.upstash.io:6379

# AWS Cognito Configuration (Shared with staging for testing)
AWS_COGNITO_REGION=us-east-1
AWS_COGNITO_USER_POOL_ID=${AWS_COGNITO_USER_POOL_ID}
AWS_COGNITO_USER_POOL_CLIENT_ID=${AWS_COGNITO_USER_POOL_CLIENT_ID}
AWS_COGNITO_REFRESH_TOKEN_EXPIRY=30

# Cookie Settings (Feature domain)
COOKIE_DOMAIN=feature-${BRANCH_NAME}.macro-ai.russoakham.dev
COOKIE_ENCRYPTION_KEY=${COOKIE_ENCRYPTION_KEY}

# API Configuration (Feature API key)
API_KEY=${FEATURE_API_KEY}

# OpenAI Configuration (Use feature API key)
OPENAI_API_KEY=${OPENAI_FEATURE_API_KEY}

# Rate Limiting Configuration (Moderate limits for feature testing)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
AUTH_RATE_LIMIT_WINDOW_MS=3600000
AUTH_RATE_LIMIT_MAX_REQUESTS=20
API_RATE_LIMIT_WINDOW_MS=60000
API_RATE_LIMIT_MAX_REQUESTS=80

# CORS Configuration (Allow feature domains)
CORS_ALLOWED_ORIGINS=https://feature-${BRANCH_NAME}.macro-ai.russoakham.dev,https://feature-api-${BRANCH_NAME}.macro-ai.russoakham.dev

# Monitoring (Feature has enhanced logging for debugging)
LOG_LEVEL=info
ENABLE_DETAILED_LOGGING=true
ENABLE_ERROR_REPORTING=true

# Feature-specific settings
FEATURE_MODE=true
ALLOW_TEST_DATA=true
DISABLE_EMAIL_NOTIFICATIONS=true
FEATURE_NAME=${FEATURE_BRANCH_NAME}
